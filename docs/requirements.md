# CrewHub 要件定義書

## 概要

イベントスタッフ運営会社向けのモバイルアプリケーション。
スタッフのシフト管理、勤怠報告、案件管理、コミュニケーションを一元化。

## ユーザーと権限

### ユーザー種別

| 種別 | 説明 |
|------|------|
| スタッフ | イベント現場で働くスタッフ |
| クライアント | イベント主催企業・依頼元 |
| マネージャー | スタッフを管理する責任者 |
| 管理者 | システム全体の管理者 |

### 権限マトリクス

| 機能 | スタッフ | クライアント | マネージャー | 管理者 |
|------|:-------:|:----------:|:----------:|:-----:|
| 案件閲覧 | ○ | ○ | ○ | ○ |
| 案件作成 | - | ○ | ○ | ○ |
| シフト応募 | ○ | - | - | - |
| シフト承認 | - | - | ○ | ○ |
| 勤怠報告 | ○ | - | - | - |
| 勤怠承認 | - | - | ○ | ○ |
| スタッフ管理 | - | - | ○ | ○ |
| 支払管理 | - | - | ○ | ○ |
| システム設定 | - | - | - | ○ |

## アプリ機能

### 1. 認証

- ログイン（メール/パスワード）
- パスワードリセット
- ログアウト
- セッション管理

### 2. マイページ（基本情報）

- プロフィール編集
  - 氏名、生年月日、性別
  - 連絡先（電話番号、メール）
  - 住所
  - 銀行口座情報
  - プロフィール写真
- 資格・スキル登録
- 稼働可能日設定

### 3. スケジュール・シフト

- カレンダー表示
- シフト一覧
- シフト応募
- シフト確定通知
- 勤務実績表示

### 4. 案件一覧・詳細

- 案件検索・フィルタ
  - エリア、日程、時給、職種
- 案件詳細表示
  - イベント名、場所、日時
  - 業務内容、持ち物
  - 報酬、交通費
- 案件への応募
- 応募状況確認

### 5. スケジュール・シフト管理

- マネージャー向け
  - シフト作成・編集
  - スタッフアサイン
  - シフト承認・却下
- スタッフ向け
  - 希望シフト登録
  - シフト確認

### 6. 勤怠報告

- 出勤打刻
- 退勤打刻
- 休憩時間入力
- 勤務報告（業務内容メモ）
- 写真添付

### 7. チャット機能

- 案件別チャットルーム
- 個別メッセージ
- グループチャット
- プッシュ通知
- 既読管理

### 8. 支払・月払出

- 給与明細閲覧
- 支払履歴
- 月次集計
- 支払予定確認

### 9. 案件/アサインメント管理（マネージャー向け）

- 案件作成・編集
- スタッフ募集
- 応募者管理
- アサイン確定
- 勤怠承認

### 10. スタッフ設定

- 通知設定
- プライバシー設定
- アプリ設定

## スタッフ登録フロー

1. 新規登録（メール/電話番号）
2. 本人確認書類アップロード
3. 基本情報入力
4. 銀行口座登録
5. 審査待ち
6. 承認後、アプリ利用開始

## 技術要件

### プラットフォーム

- iOS (iPhone 8以降)
- Android (API Level 26以降)
- React Native + Expo

### バックエンド

- Laravel 12 (PHP 8.4)
- RESTful API
- OAuth2 / JWT認証

### データベース

- MySQL 8.0
- Redis（キャッシュ・セッション）

### リアルタイム通信

- WebSocket（チャット）
- Firebase Cloud Messaging（プッシュ通知）

### オフライン対応

- 基本データのローカルキャッシュ
- オフライン時の打刻データ保存
- オンライン復帰時の同期

## 将来拡張（Phase 2以降）

### GPS機能

- 出勤時の位置情報記録
- 現場到着確認
- 移動経路記録

### 給与計算

- 自動給与計算
- 各種手当計算
- 源泉徴収対応

### 研修管理

- オンライン研修コンテンツ
- 研修受講履歴
- 資格取得管理

### イベント参加者向け機能

- チケット管理
- イベント情報閲覧
- 会場マップ
